@namespace MediChatAI_BlazorWebAssembly.Features.Shared.Messaging.Components
@inject IJSRuntime JS

<div class="smart-reply-panel @(Suggestions.Any() && IsVisible ? "visible" : "hidden")">
    <div class="flex flex-wrap gap-2 p-3 @(IsDarkMode ? "bg-gray-800/95 border-gray-700" : "bg-white/95 border-gray-200") border-t backdrop-blur-sm">
        <div class="flex items-center gap-2 text-xs @(IsDarkMode ? "text-gray-400" : "text-gray-600")">
            <i class="fas fa-magic"></i>
            <span>Smart Replies:</span>
        </div>
        @foreach (var suggestion in Suggestions.Take(4))
        {
            <button @onclick="() => OnReplySelected.InvokeAsync(suggestion)"
                    class="px-3 py-1.5 text-sm rounded-full @(IsDarkMode ? "bg-blue-900/30 hover:bg-blue-900/50 text-blue-300 border-blue-700" : "bg-blue-50 hover:bg-blue-100 text-blue-700 border-blue-200") border transition-all transform hover:scale-105 active:scale-95">
                @suggestion
            </button>
        }
    </div>
</div>

@code {
    [Parameter]
    public List<string> Suggestions { get; set; } = new();

    [Parameter]
    public bool IsVisible { get; set; } = true;

    [Parameter]
    public bool IsDarkMode { get; set; }

    [Parameter]
    public EventCallback<string> OnReplySelected { get; set; }
}
